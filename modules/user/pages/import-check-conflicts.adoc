= Проверка на конфликты

Следующая часть инструкции по импорту версии Решения выполняется на странице _Проверка на конфликты_ (представлена на рисунке).

.Страница Проверка на конфликты
image::check-conflicts.png[Страница Проверка на конфликты]

Проверка на конфликты не является обязательной и может быть пропущена нажатием кнопки *Далее*.

.Чтобы выполнить проверку на наличие конфликтов:
. Нажмите кнопку *Начать проверку*. Проверка может занять продолжительное время.
+
После завершения процедуры будут показаны её результаты.
+
.Результаты проверки Решения на конфликты
image::check-solution-conflicts.png[Результаты проверки Решения на конфликты]
+
.В информации о найденных конфликтах указываются:
* _Тип_ -- тип объекта, в котором обнаружен конфликт.
* _Конфликт_ -- тип конфликта, подробнее см. xref:conflicts.adoc[Типы конфликтов импорта].
* _Описание_ -- краткое описание конфликта.
* _Вариант решения_ -- раскрывающийся список с доступными вариантами решения конфликта. По умолчанию выбирается вариант *_Отредактировать объект вручную в базе-приёмнике_*.
* _Комментарий_ -- комментарий пользователя по данному конфликту.
* _Разрешён_ -- индикатор, указывающий на исправление конфликта. При нажатии на значок image:buttons/excl-mark.png[Информация] будет показан блок с дополнительной информацией о данном конфликте.
+
.Дополнительная информация о конфликте
image::additional-conflict-info.png[Дополнительная информация о конфликте]
+
. Для каждого конфликта из списка _Вариант решения_ выберите способ исправления.
+
Описание всех способов решения конфликтов приведено в разделе xref:conflicts.adoc#resolution[Варианты решения конфликтов импорта]. В зависимости от типа конфликта будет доступен ограниченный набор вариантов их решения.
+
Пользователь может выбрать вариант *_Игнорировать_*, если данный конфликт (по его мнению) не нуждается в исправлении или может быть исправлен после импорта Решения. Данный конфликт не приведет к остановке импорта Решения с включенной проверкой на конфликты, но может привести к ошибке загрузки данных Решения в БД.
+
При выборе варианта *_Отредактировать объект вручную в базе-приёмнике_* пользователю нужно будет самостоятельно исправить конфликтующие данные в целевой БД, прежде чем приступать к следующему шагу.
+
При желании добавьте комментарий к конфликту -- может быть полезно при разборе большого количества конфликтов.
+
Если выбор осуществляется параллельно несколькими пользователями, модулем будет принят вариант, выбранный последним.
+
. Нажмите кнопку *Повторить проверку*, чтобы применить выбранные варианты решения конфликтов к версии Решения.
+
Проверка на конфликты будет выполнена повторно с учетом примененных изменений.
+
Решенные конфликты будут отмечены значком image:resolved-flag.png[Решенный конфликт] в поле _Разрешён_. Возможность изменения варианта их решения и комментария блокируется. Конфликты с вариантом решения *_Игнорировать_* сохраняют признак _Не разрешён_.
+
.Решенные конфликты
image::resolved-conflicts.png[Решенные конфликты]
+
[NOTE]
====
При решении конфликтов меняются только данные временной копии (редакции) загружаемой версии Решения. Данные в БД, из которой было выгружено Решение, и в которую оно загружается, и данные версии Решения не изменяются.
====
+
. После принятия решения по всем конфликтам, нажмите кнопку *Далее*.

Информацию о найденных конфликтах можно сохранить на диск в формате `.json`. Для этого нажмите кнопку *Сохранить подробный список конфликтов на диск*. Если в списке есть решенные конфликты со значком image:resolved-flag.png[Решенный конфликт], вместе со списком конфликтов будет сохранён архив с файлами исправленной версии Решения.

Проверку на наличие конфликтов можно отменить. Для этого нажмите кнопку *Отменить результаты*. В этом случае проверку и решение конфликтов нужно будет выполнить повторно.
